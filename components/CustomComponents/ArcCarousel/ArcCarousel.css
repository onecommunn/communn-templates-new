.slider {
  width: 100%;
  height: 45vw; /* desktop/tablet carousel height */
  overflow: hidden;
  perspective: 100px;
  position: relative;
}

@media (max-width: 639px) {
  .slider { height: 50vw; } /* explicit mobile height for visibility */

  /* Let Swiper fully control slide widths for 3-up */
  .swiper-slide.arc-slide { flex: 0 0 auto; }

  /* Hide the halo rings on small screens */
  .slider::before,
  .slider::after { display: none; }
}

.swiper { width: 100%; height: 100%; }

.swiper-slide.arc-slide {
  /* desktop/tablet: we rely on slidesPerView:'auto' + this flex-basis */
  display: flex;
  justify-content: center;
  align-items: center;
  will-change: transform;
  transition: transform 0.3s ease;
  box-sizing: border-box;
}

@media (min-width: 768px) {
  /* 5-up feel on wide screens (with 14px gaps) */
  .swiper-slide.arc-slide {
    flex: 0 0 calc((100% - (4 * 14px)) / 5);
  }
}

@media (min-width: 640px) {
  /* 5-up feel on wide screens (with 14px gaps) */
  .swiper-slide.arc-slide {
    flex: 0 0 calc((100% - (4 * 14px)) / 5);
  }
}

.swiper-slide {
  display: flex;
  justify-content: center;
  align-items: center;
}

.snapper {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Avoid forcing single-wide slides on mobile */
@media (max-width: 639px) {
  .snapper { min-width: 100px; }
}

/* halo rings (desktop/tablet) */
.slider::before,
.slider::after {
  content: "";
  position: absolute;
  width: 500%;
  height: 500%;
  background: #fff;
  z-index: 2;
  border-radius: 50%;
  left: 50%;
  translate: -50%;
}
.slider::before { top: -480%; }
.slider::after { bottom: -480%; }
